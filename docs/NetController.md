<h1>NetController (netcntlr)</h1>
<p>A userspace program to control our TDMA Scheduler Kernel Module during run-time</p>
<h4>Dependencies</h4>
<p>This program relies on a couple of different open-source projects. To update the command-line options available to the netcntlr binary (through the <code>make gengetopt</code> command), <a href="https://www.gnu.org/software/gengetopt/gengetopt.html">gengetopt</a> is required. The files <a href="../netcntlr/cmdline.c">cmdline.c</a> and <a href="../netcntlr/cmdline.h">cmdline.h</a> are generated from gengetopt, and are included in the program's source, so gengetopt may not be strictly required.</p>
<p>The Netlink Protocol Library Suite, libnl, is also required. This can usually be downloaded with the package manager of your Linux distribution or alternatively can be built from source here: <a href="https://www.infradead.org/~tgr/libnl/">https://www.infradead.org/~tgr/libnl/</a>.</p>
<p>For the chart plotting / graph visualization, additional Python packages are required and can be found in <a href="../netcntlr/requirements.txt">requirements.txt</a>. To install these dependencies, a Makefile command is available to build the virtual environment and install everything that's required. Simply run <code>make build_venv</code>, within the netcntlr directory.</p>
<h4>Building the Program</h4>
<p>The project's Makefile will invoke the netcntlr's Makefile in a subprocess when running <code>make</code> from the project's root directory. Similarly, you may invoke the <code>make</code> command within netcntlr directory to build the binaries separately.</p>
<h4>Running the Program</h4>
<p>Once the netcntlr binary is built, it may be helpful to first check out the available command-line arguments to the program. This can be seen by runnning <code>./netcntlr -h</code> or <code>./netcntlr --help</code>. There are two main ways to run NetController, first is to use the command-line and specify the arguments to pass to the program, and the second way is to specify these arguments in a file, and pass the <code>-f, --config-file &ltfile-path&gt</code> flag and value. This file must follow a specific format, where the left hand side of the '=' is the variable name to set (following the same formatting and spelling as shown in the <a href="../netcntlr/netcntlr.h">netcntlr.h</a> file), and the right hand side should be the value. See the file <a href="../netcntlr/test-config">test-config</a>, for an example.</p>
<p>By default (unless specified by passing <code>-c, --use-tc</code> flag), all parameter updates will happen through Generic Netlink messages sent using libnl. If a flag is set that requires tc, such as <code>-l, --set-tc-limit</code>, it will be saved to a kernel-land variable, but won't be active unless <code>-c, --use-tc</code> is also set.</p>
<p>The <code>-g, --graph</code> flag will start saving statistics from the kernel module, which can be graphically displayed using the <a href="../netcntlr/graph.py">graph.py</a> file. A virtual environment must be active before running this program, see the 'Dependencies' section for more information.</p>
